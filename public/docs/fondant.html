<!DOCTYPE html>  <html> <head>   <title>fondant.coffee</title>   <meta http-equiv="content-type" content="text/html; charset=UTF-8">   <link rel="stylesheet" media="all" href="docco.css" /> </head> <body>   <div id="container">     <div id="background"></div>          <table cellpadding="0" cellspacing="0">       <thead>         <tr>           <th class="docs">             <h1>               fondant.coffee             </h1>           </th>           <th class="code">           </th>         </tr>       </thead>       <tbody>                               <tr id="section-1">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-1">&#182;</a>               </div>               <h2>Fondant</h2>

<p>The icing on the cake for user input. A simple jQuery HTML5 WYSIWYG editor
using <code>contenteditable</code>.</p>

<p>&copy; 2013 <a href="http://phillipridlen.com">Phillip Ridlen</a> &amp; <a href="http://ovenbits.com">Oven Bits, LLC</a></p>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-2">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-2">&#182;</a>               </div>               <h2>Requirements</h2>

<ul>
<li>jQuery (tested with 1.9.1)</li>
<li>A modern-ish browser (IE9+)</li>
</ul>

<h2>Usage</h2>

<h3>Instantiation</h3>

<p>To launch the editor on a specific element:</p>

<pre><code>$('div.editable').fondant();
</code></pre>

<p>You can also use it on a <code>&lt;textarea&gt;</code> and it will convert it to a <code>&lt;div&gt;</code>
while the editor is on:</p>

<pre><code>$('form#content textarea.wysiwyg').fondant();
</code></pre>

<h3>Options Reference</h3>

<ul>
<li><p><code>prefix</code> - prefix for all css classes and ids added to elements
generated by Fondant (default: <code>fondant-</code>)</p></li>
<li><p><code>toolbar</code> - If set to <code>true</code>, Fondant will generate a toolbar. Otherwise you are responsible for
hooking up all your toolbar buttons to call <code>$('selector').fondant('bold')</code>, etc.
(default: <code>true</code>)</p></li>
</ul>             </td>             <td class="code">               <div class="highlight"><pre><span class="nv">$ = </span><span class="nx">jQuery</span>

<span class="nx">$</span> <span class="o">-&gt;</span></pre></div>             </td>           </tr>                               <tr id="section-3">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-3">&#182;</a>               </div>               <h2>Class Definition</h2>

<p>Defines the <code>Fondant</code> class that will be instantiated when <code>$.fn.fondant</code>
is called.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="k">class</span> <span class="nx">Fondant</span></pre></div>             </td>           </tr>                               <tr id="section-4">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-4">&#182;</a>               </div>               <h2>Methods</h2>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nv">constructor: </span><span class="nf">(element, options) -&gt;</span>
      <span class="nx">@init</span><span class="p">(</span><span class="s">&#39;fondant&#39;</span><span class="p">,</span> <span class="nx">element</span><span class="p">,</span> <span class="nx">options</span><span class="p">)</span></pre></div>             </td>           </tr>                               <tr id="section-5">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-5">&#182;</a>               </div>               <h3>init( type, element, options )</h3>

<p>Initializes the Fondant editor.</p>

<p>Parameters:</p>

<ul>
<li><code>type</code> - should always be 'fondant' (see constructor above)</li>
<li><code>element</code> - enable the Fondant editor for this element</li>
<li><code>options</code> - overrides for the default options</li>
<li><code>toolbar</code> -</li>
</ul>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nv">init: </span><span class="nf">(type, element, options) -&gt;</span>
      <span class="vi">@id = </span><span class="k">new</span> <span class="nb">Date</span><span class="p">().</span><span class="nx">getTime</span><span class="p">()</span>
      <span class="vi">@type = </span><span class="nx">type</span>
      <span class="vi">@$element = </span><span class="nx">$</span><span class="p">(</span><span class="nx">element</span><span class="p">)</span>
      <span class="vi">@options = </span><span class="nx">@getOptions</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span>

      <span class="vi">@templates.fondant = </span><span class="k">this</span>

      <span class="k">if</span> <span class="p">(</span> <span class="nx">@$element</span><span class="p">.</span><span class="nx">prop</span><span class="p">(</span><span class="s">&#39;tagName&#39;</span><span class="p">).</span><span class="nx">toLowerCase</span><span class="p">()</span> <span class="o">==</span> <span class="s">&#39;textarea&#39;</span> <span class="p">)</span>
        <span class="vi">@textarea = </span><span class="nx">@$element</span><span class="p">.</span><span class="nx">clone</span><span class="p">()</span>
        <span class="nx">@replaceTextareaWithDiv</span><span class="p">()</span>

      <span class="nx">@makeEditable</span><span class="p">()</span>
      <span class="nx">@insertToolbar</span><span class="p">()</span>
      <span class="nx">@bindToolbar</span><span class="p">()</span></pre></div>             </td>           </tr>                               <tr id="section-6">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-6">&#182;</a>               </div>               <h3>destroy()</h3>

<p>Destroy the Fondant editor and any elements created by it</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nv">destroy: </span><span class="o">-&gt;</span>
      <span class="nx">@unbindToolbar</span><span class="p">()</span>
      <span class="nx">@removeToolbar</span><span class="p">()</span>
      <span class="nx">@makeUneditable</span><span class="p">()</span>
      <span class="nx">@replaceDivWithTextarea</span><span class="p">()</span> <span class="k">if</span> <span class="nx">@textarea</span>
      <span class="nx">@$element</span><span class="p">.</span><span class="nx">removeData</span><span class="p">(</span><span class="nx">@type</span><span class="p">)</span></pre></div>             </td>           </tr>                               <tr id="section-7">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-7">&#182;</a>               </div>               <h3>insertToolbar()</h3>

<p>Add the formatting toolbar and bind the editor functions</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nv">insertToolbar: </span><span class="o">-&gt;</span>
      <span class="nx">@$element</span><span class="p">.</span><span class="nx">prepend</span><span class="p">(</span><span class="nx">@templates</span><span class="p">.</span><span class="nx">toolbar</span><span class="p">())</span> <span class="k">if</span> <span class="nx">@options</span><span class="p">.</span><span class="nx">toolbar</span></pre></div>             </td>           </tr>                               <tr id="section-8">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-8">&#182;</a>               </div>               <h3>bindToolbar()</h3>

<p>Bind toolbar click events to their respective actions</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nv">bindToolbar: </span><span class="o">-&gt;</span>
      <span class="k">for</span> <span class="nx">action</span> <span class="k">in</span> <span class="nx">@actions</span>
        <span class="nx">$</span><span class="p">(</span><span class="s">&quot;[data-action=&#39;</span><span class="si">#{</span> <span class="nx">@type</span> <span class="si">}</span><span class="s">-</span><span class="si">#{</span> <span class="nx">action</span> <span class="si">}</span><span class="s">&#39;]&quot;</span><span class="p">).</span><span class="kc">on</span> <span class="s">&#39;click.fondant&#39;</span><span class="p">,</span>
          <span class="nx">$</span><span class="p">.</span><span class="nx">proxy</span><span class="p">(</span><span class="nx">@</span><span class="p">[</span><span class="nx">action</span><span class="p">],</span> <span class="k">this</span><span class="p">)</span></pre></div>             </td>           </tr>                               <tr id="section-9">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-9">&#182;</a>               </div>               <h3>unbindToolbar()</h3>

<p>Remove all toolbar events. If the default Fondant toolbar was generated,
this is not needed since the DOM elements will be destroyed</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nv">unbindToolbar: </span><span class="o">-&gt;</span>
      <span class="nx">$</span><span class="p">(</span><span class="s">&quot;[data-action^=&#39;</span><span class="si">#{</span> <span class="nx">@type</span> <span class="si">}</span><span class="s">-&#39;]&quot;</span><span class="p">).</span><span class="kc">off</span><span class="p">(</span><span class="s">&#39;.fondant&#39;</span><span class="p">)</span> <span class="nx">unless</span> <span class="nx">@options</span><span class="p">.</span><span class="nx">toolbar</span></pre></div>             </td>           </tr>                               <tr id="section-10">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-10">&#182;</a>               </div>               <h3>removeToolbar()</h3>

<p>Remove the formatting toolbar and unbind the editor functions.</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nv">removeToolbar: </span><span class="o">-&gt;</span>
      <span class="nx">@$element</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="nx">@options</span><span class="p">.</span><span class="nx">prefix</span> <span class="o">+</span> <span class="s">&quot;-toolbar&quot;</span><span class="p">).</span><span class="nx">remove</span><span class="p">()</span> <span class="k">if</span> <span class="nx">@options</span><span class="p">.</span><span class="nx">toolbar</span></pre></div>             </td>           </tr>                               <tr id="section-11">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-11">&#182;</a>               </div>               <h3>getElement()</h3>

<p>Get the actual underlying DOM (not jQuery) element</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nv">getElement: </span><span class="o">-&gt;</span>
      <span class="nx">@$element</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span></pre></div>             </td>           </tr>                               <tr id="section-12">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-12">&#182;</a>               </div>               <h3>getOptions( options )</h3>

<p>Get the options from the defaults, options passed to the constructor, and
the options set in the element's <code>data</code> attribute</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nv">getOptions: </span><span class="nf">( options ) -&gt;</span>
      <span class="nv">options = </span><span class="nx">$</span><span class="p">.</span><span class="nx">extend</span> <span class="p">{},</span>
        <span class="nx">$</span><span class="p">.</span><span class="nx">fn</span><span class="p">[</span><span class="nx">@type</span><span class="p">].</span><span class="nx">defaults</span><span class="p">,</span>  <span class="c1"># default options</span>
        <span class="nx">options</span><span class="p">,</span>               <span class="c1"># options passed in to the constructor</span>
        <span class="nx">@$element</span><span class="p">.</span><span class="nx">data</span><span class="p">()</span>       <span class="c1"># options set in the element&#39;s `data` attribute</span></pre></div>             </td>           </tr>                               <tr id="section-13">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-13">&#182;</a>               </div>               <h3>makeEditable()</h3>

<p>Make the element editable. If it is a <code>&lt;textarea&gt;</code>, convert it to a
<code>&lt;div&gt;</code> first.</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nv">makeEditable: </span><span class="o">-&gt;</span>
      <span class="nx">@$element</span><span class="p">.</span><span class="nx">attr</span> <span class="s">&#39;contenteditable&#39;</span><span class="p">,</span> <span class="s">&#39;true&#39;</span>
      <span class="vi">@$element = </span><span class="nx">@wrapEditorContent</span><span class="p">()</span></pre></div>             </td>           </tr>                               <tr id="section-14">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-14">&#182;</a>               </div>               <h3>makeUneditable()</h3>

<p>Turns off <code>contenteditable</code> for this editor. If this editor was
originally a <code>&lt;textarea&gt;</code>, convert it back.</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nv">makeUneditable: </span><span class="o">-&gt;</span>
      <span class="vi">@$element = </span><span class="nx">@unwrapEditorContent</span><span class="p">()</span>
      <span class="nx">@$element</span><span class="p">.</span><span class="nx">attr</span> <span class="s">&#39;contenteditable&#39;</span><span class="p">,</span> <span class="s">&#39;false&#39;</span></pre></div>             </td>           </tr>                               <tr id="section-15">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-15">&#182;</a>               </div>               <h3>replaceElement( $old, fresh )</h3>

<p>Replace a jQuery element with a new one from a string. Returns the new
jQuery element.</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nv">replaceElement: </span><span class="nf">( $old, fresh ) -&gt;</span>
      <span class="nx">$old</span><span class="p">.</span><span class="nx">replaceWith</span><span class="p">(</span><span class="nv">$fresh = </span><span class="nx">$</span><span class="p">(</span><span class="nx">fresh</span><span class="p">))</span>
      <span class="nx">$fresh</span></pre></div>             </td>           </tr>                               <tr id="section-16">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-16">&#182;</a>               </div>               <h3>replaceDivWithTextarea( keep_changes = true )</h3>

<p>Swaps out the the <code>&lt;div&gt;</code> for a <code>&lt;textarea&gt;</code>, returning the original's
attributes. If keep_changes is false, put the original content back in.
Essentially reverses the process of <code>replaceTextareaWithDiv</code>.</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nv">replaceDivWithTextarea: </span><span class="nf">( keep_changes = true ) -&gt;</span>
      <span class="nv">_this = </span><span class="k">this</span>
      <span class="nv">html = </span><span class="nx">@$element</span><span class="p">.</span><span class="nx">html</span><span class="p">()</span>

      <span class="nx">@replaceElement</span><span class="p">(</span><span class="nx">@$element</span><span class="p">,</span> <span class="nx">@textarea</span><span class="p">)</span>
      <span class="nx">@$element</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">@type</span><span class="p">,</span> <span class="nx">_this</span><span class="p">)</span>
      <span class="nx">@$element</span><span class="p">.</span><span class="nx">val</span><span class="p">(</span><span class="nx">html</span><span class="p">)</span> <span class="k">if</span> <span class="nx">keep_changes</span>

      <span class="nx">@$element</span></pre></div>             </td>           </tr>                               <tr id="section-17">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-17">&#182;</a>               </div>               <h3>replaceTextareaWithDiv()</h3>

<p>Swaps out the <code>&lt;textarea&gt;</code> with a <code>&lt;div&gt;</code> so we can use contenteditable.
Saves the <code>&lt;textarea&gt;</code>'s value and attributes so it can be restored when
the editor gets canceled/destroyed.</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nv">replaceTextareaWithDiv: </span><span class="o">-&gt;</span>
      <span class="k">if</span> <span class="nx">@textarea</span>
        <span class="nv">_this = </span><span class="k">this</span>
        <span class="vi">@$element = </span><span class="nx">@replaceElement</span> <span class="nx">@$element</span><span class="p">,</span> <span class="nx">@templates</span><span class="p">.</span><span class="nx">editorContent</span><span class="p">()</span>
        <span class="nx">@$element</span><span class="p">.</span><span class="nx">data</span> <span class="nx">@type</span><span class="p">,</span> <span class="nx">_this</span>
        <span class="nx">@$element</span><span class="p">.</span><span class="nx">html</span> <span class="nx">@textarea</span><span class="p">.</span><span class="nx">val</span><span class="p">()</span>

      <span class="nx">@$element</span></pre></div>             </td>           </tr>                               <tr id="section-18">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-18">&#182;</a>               </div>               <h3>unwrapEditorContent()</h3>

<p>Undoes what happens in <code>wrapEditorContent()</code>.</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nv">unwrapEditorContent: </span><span class="o">-&gt;</span>
      <span class="nv">_this = </span><span class="k">this</span>
      <span class="nv">$wrap = </span><span class="nx">@$element</span>
      <span class="vi">@$element = </span><span class="nx">@replaceElement</span> <span class="nx">@$element</span><span class="p">,</span> <span class="nx">@$original_element</span>
      <span class="nx">@$element</span><span class="p">.</span><span class="nx">data</span> <span class="nx">@type</span><span class="p">,</span> <span class="nx">_this</span>
      <span class="nx">$wrap</span><span class="p">.</span><span class="nx">remove</span><span class="p">()</span>

      <span class="nx">@$element</span></pre></div>             </td>           </tr>                               <tr id="section-19">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-19">&#182;</a>               </div>               <h3>wrapEditorContent()</h3>

<p>Wraps the current <code>@$element</code> with another, outer <code>&lt;div&gt;</code> so we can insert the toolbar</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nv">wrapEditorContent: </span><span class="o">-&gt;</span>
      <span class="nv">_this = </span><span class="k">this</span>
      <span class="vi">@$original_element = </span><span class="nx">@$element</span>
      <span class="vi">@$element = </span><span class="nx">@$element</span><span class="p">.</span><span class="nx">wrap</span><span class="p">(</span><span class="nx">@templates</span><span class="p">.</span><span class="nx">editor</span><span class="p">()).</span><span class="nx">parent</span><span class="p">()</span>
      <span class="nx">@$element</span><span class="p">.</span><span class="nx">data</span> <span class="nx">@type</span><span class="p">,</span> <span class="nx">_this</span>
      <span class="nx">@$original_element</span><span class="p">.</span><span class="nx">removeData</span> <span class="nx">@type</span>

      <span class="nx">@$element</span></pre></div>             </td>           </tr>                               <tr id="section-20">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-20">&#182;</a>               </div>               <h3>applyFormat( command, value )</h3>

<p>Applies a rich text editor command to selection or block. Available
commands are <a href="https://developer.mozilla.org/en-US/docs/Rich-Text_Editing_in_Mozilla">listed on the MDN website</a>.</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nv">applyFormat: </span><span class="nf">( command, value ) -&gt;</span>
      <span class="nb">document</span><span class="p">.</span><span class="nx">execCommand</span> <span class="nx">command</span><span class="p">,</span> <span class="kc">false</span><span class="p">,</span> <span class="nx">value</span></pre></div>             </td>           </tr>                               <tr id="section-21">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-21">&#182;</a>               </div>               <h2>Formatting Functions</h2>

<p>This is where the magic happens.</p>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-22">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-22">&#182;</a>               </div>               <h3>actions</h3>

<p>Array of all the possible formatting actions to take</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nv">actions: </span><span class="p">[</span>
      <span class="s">&#39;remove&#39;</span><span class="p">,</span>
      <span class="s">&#39;bold&#39;</span><span class="p">,</span> <span class="s">&#39;italic&#39;</span><span class="p">,</span>
      <span class="s">&#39;p&#39;</span><span class="p">,</span> <span class="s">&#39;h1&#39;</span><span class="p">,</span> <span class="s">&#39;h2&#39;</span><span class="p">,</span> <span class="s">&#39;h3&#39;</span><span class="p">,</span> <span class="s">&#39;h4&#39;</span><span class="p">,</span> <span class="s">&#39;blockquote&#39;</span><span class="p">,</span>
      <span class="s">&#39;ol&#39;</span><span class="p">,</span> <span class="s">&#39;ul&#39;</span><span class="p">,</span> <span class="s">&#39;indent&#39;</span><span class="p">,</span> <span class="s">&#39;outdent&#39;</span><span class="p">,</span>
      <span class="s">&#39;custom&#39;</span>
    <span class="p">]</span></pre></div>             </td>           </tr>                               <tr id="section-23">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-23">&#182;</a>               </div>               <h3>remove()</h3>

<p>Remove all formatting for selection</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nv">remove: </span><span class="o">-&gt;</span> <span class="nx">@applyFormat</span> <span class="s">&#39;removeFormat&#39;</span></pre></div>             </td>           </tr>                               <tr id="section-24">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-24">&#182;</a>               </div>               <h3>custom( html )</h3>

<p>For hooking in custom actions.</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nv">custom: </span><span class="nf">(html) -&gt;</span>
      <span class="k">if</span> <span class="nx">navigator</span><span class="p">.</span><span class="nx">appName</span> <span class="o">==</span> <span class="s">&quot;Microsoft Internet Explorer&quot;</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span> <span class="s">&quot;Custom HTML not yet implemented&quot;</span>
      <span class="k">else</span>
        <span class="nx">@applyFormat</span> <span class="s">&#39;insertHTML&#39;</span><span class="p">,</span> <span class="nx">html</span></pre></div>             </td>           </tr>                               <tr id="section-25">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-25">&#182;</a>               </div>               <h3>Text Styles</h3>

<ul>
<li><code>bold()</code></li>
<li><code>italic()</code></li>
</ul>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nv">bold: </span>  <span class="o">-&gt;</span> <span class="nx">@applyFormat</span> <span class="s">&#39;bold&#39;</span>
    <span class="nv">italic: </span><span class="o">-&gt;</span> <span class="nx">@applyFormat</span> <span class="s">&#39;italic&#39;</span></pre></div>             </td>           </tr>                               <tr id="section-26">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-26">&#182;</a>               </div>               <h3>Block Formats</h3>

<p>Wraps the selected element in a block element:</p>

<ul>
<li><code>p()</code></li>
<li><code>h1()</code></li>
<li><code>h2()</code></li>
<li><code>h3()</code></li>
<li><code>h4()</code></li>
<li><code>blockquote()</code></li>
</ul>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nv">p: </span> <span class="o">-&gt;</span> <span class="nx">@applyFormat</span> <span class="s">&#39;formatBlock&#39;</span><span class="p">,</span> <span class="s">&#39;&lt;p&gt;&#39;</span>
    <span class="nv">h1: </span><span class="o">-&gt;</span> <span class="nx">@applyFormat</span> <span class="s">&#39;formatBlock&#39;</span><span class="p">,</span> <span class="s">&#39;&lt;h1&gt;&#39;</span>
    <span class="nv">h2: </span><span class="o">-&gt;</span> <span class="nx">@applyFormat</span> <span class="s">&#39;formatBlock&#39;</span><span class="p">,</span> <span class="s">&#39;&lt;h2&gt;&#39;</span>
    <span class="nv">h3: </span><span class="o">-&gt;</span> <span class="nx">@applyFormat</span> <span class="s">&#39;formatBlock&#39;</span><span class="p">,</span> <span class="s">&#39;&lt;h3&gt;&#39;</span>
    <span class="nv">h4: </span><span class="o">-&gt;</span> <span class="nx">@applyFormat</span> <span class="s">&#39;formatBlock&#39;</span><span class="p">,</span> <span class="s">&#39;&lt;h4&gt;&#39;</span>
    <span class="nv">blockquote: </span><span class="o">-&gt;</span> <span class="nx">@applyFormat</span> <span class="s">&#39;formatBlock&#39;</span><span class="p">,</span> <span class="s">&#39;&lt;blockquote&gt;&#39;</span></pre></div>             </td>           </tr>                               <tr id="section-27">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-27">&#182;</a>               </div>               <h3>Lists and Indentation</h3>

<ul>
<li><code>ol()</code></li>
<li><code>ul()</code></li>
<li><code>indent()</code></li>
<li><code>outdent()</code></li>
</ul>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nv">ol: </span>      <span class="o">-&gt;</span> <span class="nx">@applyFormat</span> <span class="s">&#39;insertOrderedList&#39;</span>
    <span class="nv">ul: </span>      <span class="o">-&gt;</span> <span class="nx">@applyFormat</span> <span class="s">&#39;insertUnorderedList&#39;</span>
    <span class="nv">indent: </span>  <span class="o">-&gt;</span> <span class="nx">@applyFormat</span> <span class="s">&#39;indent&#39;</span>
    <span class="nv">outdent: </span> <span class="o">-&gt;</span> <span class="nx">@applyFormat</span> <span class="s">&#39;outdent&#39;</span></pre></div>             </td>           </tr>                               <tr id="section-28">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-28">&#182;</a>               </div>               <h3>Undo/Redo</h3>

<ul>
<li><code>undo()</code></li>
<li><code>redo()</code></li>
</ul>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nv">undo: </span><span class="o">-&gt;</span> <span class="nx">@applyFormat</span> <span class="s">&#39;undo&#39;</span>
    <span class="nv">redo: </span><span class="o">-&gt;</span> <span class="nx">@applyFormat</span> <span class="s">&#39;redo&#39;</span></pre></div>             </td>           </tr>                               <tr id="section-29">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-29">&#182;</a>               </div>               <h2>HTML Templates</h2>

<p>Templates for inserted html elements</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nv">templates:</span></pre></div>             </td>           </tr>                               <tr id="section-30">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-30">&#182;</a>               </div>               <h3>templates.editor()</h3>

<p>Outer element to wrap the <code>contenteditable</code> region so we can insert the toolbar.</p>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="nv">editor: </span><span class="o">-&gt;</span>
        <span class="nv">prefix = </span><span class="nx">@fondant</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">prefix</span>
        <span class="nv">id = </span><span class="s">&quot;</span><span class="si">#{</span> <span class="nx">prefix</span> <span class="si">}</span><span class="s">-</span><span class="si">#{</span> <span class="nx">@fondant</span><span class="p">.</span><span class="nx">id</span> <span class="si">}</span><span class="s">&quot;</span>

        <span class="s">&quot;&quot;&quot;</span>
<span class="s">        &lt;div class=&quot;</span><span class="si">#{</span> <span class="nx">prefix</span> <span class="si">}</span><span class="s">-editor&quot; id=&quot;</span><span class="si">#{</span> <span class="nx">id</span> <span class="si">}</span><span class="s">&quot;&gt;</span>
<span class="s">        &lt;/div&gt;</span>
<span class="s">        &quot;&quot;&quot;</span></pre></div>             </td>           </tr>                               <tr id="section-31">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-31">&#182;</a>               </div>               <h3>templates.editorContent()</h3>

<p>If a <code>&lt;textarea&gt;</code> is being swapped out for a <code>&lt;div&gt;</code>, this is the
function we'll use to generate the editor.</p>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="nv">editorContent: </span><span class="o">-&gt;</span>
        <span class="s">&quot;&quot;&quot;</span>
<span class="s">        &lt;div class=&quot;</span><span class="si">#{</span> <span class="nx">@fondant</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">prefix</span> <span class="si">}</span><span class="s">-editor-content&quot;&gt;</span>
<span class="s">        &lt;/div&gt;</span>
<span class="s">        &quot;&quot;&quot;</span></pre></div>             </td>           </tr>                               <tr id="section-32">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-32">&#182;</a>               </div>               <h3>templates.toolbar()</h3>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="nv">toolbar: </span><span class="o">-&gt;</span>
        <span class="s">&quot;&quot;&quot;</span>
<span class="s">        &lt;div class=&quot;</span><span class="si">#{</span> <span class="nx">@fondant</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">prefix</span> <span class="si">}</span><span class="s">-toolbar&quot;&gt;</span>
<span class="s">          &lt;ul&gt;</span>
<span class="s">            &lt;li&gt;Text Styles&lt;/li&gt;</span>
<span class="s">            &lt;ul&gt;</span>
<span class="s">              &lt;li&gt;&lt;a href=&quot;</span><span class="err">#</span><span class="s">&quot; data-action=&quot;</span><span class="si">#{</span> <span class="nx">@fondant</span><span class="p">.</span><span class="nx">type</span> <span class="si">}</span><span class="s">-bold&quot;&gt;B&lt;/a&gt;&lt;/li&gt;</span>
<span class="s">              &lt;li&gt;&lt;a href=&quot;</span><span class="err">#</span><span class="s">&quot; data-action=&quot;</span><span class="si">#{</span> <span class="nx">@fondant</span><span class="p">.</span><span class="nx">type</span> <span class="si">}</span><span class="s">-italic&quot;&gt;I&lt;/a&gt;&lt;/li&gt;</span>
<span class="s">            &lt;/ul&gt;</span>
<span class="s">            &lt;li&gt;Block Styles&lt;/li&gt;</span>
<span class="s">            &lt;ul&gt;</span>
<span class="s">              &lt;li&gt;&lt;a href=&quot;</span><span class="err">#</span><span class="s">&quot; data-action=&quot;</span><span class="si">#{</span> <span class="nx">@fondant</span><span class="p">.</span><span class="nx">type</span> <span class="si">}</span><span class="s">-paragraph&quot;&gt;P&lt;/a&gt;&lt;/li&gt;</span>
<span class="s">              &lt;li&gt;&lt;a href=&quot;</span><span class="err">#</span><span class="s">&quot; data-action=&quot;</span><span class="si">#{</span> <span class="nx">@fondant</span><span class="p">.</span><span class="nx">type</span> <span class="si">}</span><span class="s">-h1&quot;&gt;H1&lt;/a&gt;&lt;/li&gt;</span>
<span class="s">              &lt;li&gt;&lt;a href=&quot;</span><span class="err">#</span><span class="s">&quot; data-action=&quot;</span><span class="si">#{</span> <span class="nx">@fondant</span><span class="p">.</span><span class="nx">type</span> <span class="si">}</span><span class="s">-h2&quot;&gt;H2&lt;/a&gt;&lt;/li&gt;</span>
<span class="s">              &lt;li&gt;&lt;a href=&quot;</span><span class="err">#</span><span class="s">&quot; data-action=&quot;</span><span class="si">#{</span> <span class="nx">@fondant</span><span class="p">.</span><span class="nx">type</span> <span class="si">}</span><span class="s">-h3&quot;&gt;H3&lt;/a&gt;&lt;/li&gt;</span>
<span class="s">              &lt;li&gt;&lt;a href=&quot;</span><span class="err">#</span><span class="s">&quot; data-action=&quot;</span><span class="si">#{</span> <span class="nx">@fondant</span><span class="p">.</span><span class="nx">type</span> <span class="si">}</span><span class="s">-h4&quot;&gt;H4&lt;/a&gt;&lt;/li&gt;</span>
<span class="s">              &lt;li&gt;&lt;a href=&quot;</span><span class="err">#</span><span class="s">&quot; data-action=&quot;</span><span class="si">#{</span> <span class="nx">@fondant</span><span class="p">.</span><span class="nx">type</span> <span class="si">}</span><span class="s">-blockquote&quot;&gt;Quote&lt;/a&gt;&lt;/li&gt;</span>
<span class="s">            &lt;/ul&gt;</span>
<span class="s">            &lt;li&gt;Lists&lt;/li&gt;</span>
<span class="s">            &lt;ul&gt;</span>
<span class="s">              &lt;li&gt;&lt;a href=&quot;</span><span class="err">#</span><span class="s">&quot; data-action=&quot;</span><span class="si">#{</span> <span class="nx">@fondant</span><span class="p">.</span><span class="nx">type</span> <span class="si">}</span><span class="s">-ol&quot;&gt;Numbers&lt;/a&gt;&lt;/li&gt;</span>
<span class="s">              &lt;li&gt;&lt;a href=&quot;</span><span class="err">#</span><span class="s">&quot; data-action=&quot;</span><span class="si">#{</span> <span class="nx">@fondant</span><span class="p">.</span><span class="nx">type</span> <span class="si">}</span><span class="s">-ul&quot;&gt;Bullets&lt;/a&gt;&lt;/li&gt;</span>
<span class="s">              &lt;li&gt;&lt;a href=&quot;</span><span class="err">#</span><span class="s">&quot; data-action=&quot;</span><span class="si">#{</span> <span class="nx">@fondant</span><span class="p">.</span><span class="nx">type</span> <span class="si">}</span><span class="s">-indent&quot;&gt;Increase Indent&lt;/a&gt;&lt;/li&gt;</span>
<span class="s">              &lt;li&gt;&lt;a href=&quot;</span><span class="err">#</span><span class="s">&quot; data-action=&quot;</span><span class="si">#{</span> <span class="nx">@fondant</span><span class="p">.</span><span class="nx">type</span> <span class="si">}</span><span class="s">-outdent&quot;&gt;Decrease Indent&lt;/a&gt;&lt;/li&gt;</span>
<span class="s">            &lt;/ul&gt;</span>
<span class="s">            &lt;li&gt;Undo/Redo&lt;/li&gt;</span>
<span class="s">            &lt;ul&gt;</span>
<span class="s">              &lt;li&gt;&lt;a href=&quot;</span><span class="err">#</span><span class="s">&quot; data-action=&quot;</span><span class="si">#{</span> <span class="nx">@fondant</span><span class="p">.</span><span class="nx">type</span> <span class="si">}</span><span class="s">-und&quot;&gt;Undo&lt;/a&gt;&lt;/li&gt;</span>
<span class="s">              &lt;li&gt;&lt;a href=&quot;</span><span class="err">#</span><span class="s">&quot; data-action=&quot;</span><span class="si">#{</span> <span class="nx">@fondant</span><span class="p">.</span><span class="nx">type</span> <span class="si">}</span><span class="s">-redo&quot;&gt;Redo&lt;/a&gt;&lt;/li&gt;</span>
<span class="s">            &lt;/ul&gt;</span>
<span class="s">          &lt;/ul&gt;</span>
<span class="s">        &lt;/div&gt;</span>
<span class="s">        &quot;&quot;&quot;</span></pre></div>             </td>           </tr>                               <tr id="section-33">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-33">&#182;</a>               </div>               <h2>Plugin Setup</h2>

<h3>jQuery function property</h3>

<p>Builds a fondant editor for each matched element.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">$.fn.fondant = </span><span class="nf">() -&gt;</span>
    <span class="nv">option = </span><span class="nx">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="nv">args = </span><span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">slice</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">arguments</span><span class="p">)[</span><span class="mi">1</span><span class="p">..]</span>

    <span class="nx">@map</span> <span class="o">-&gt;</span>
      <span class="nv">$this = </span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">)</span>
      <span class="nv">instance = </span><span class="nx">$this</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="s">&#39;fondant&#39;</span><span class="p">)</span>
      <span class="nv">options = </span><span class="k">typeof</span> <span class="nx">option</span> <span class="o">==</span> <span class="s">&#39;object&#39;</span> <span class="o">&amp;&amp;</span> <span class="nx">option</span>

      <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">instance</span><span class="p">)</span>
        <span class="nx">$this</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="s">&#39;fondant&#39;</span><span class="p">,</span> <span class="p">(</span><span class="nv">instance = </span><span class="k">new</span> <span class="nx">Fondant</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">options</span><span class="p">)))</span>

      <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">option</span> <span class="o">==</span> <span class="s">&#39;string&#39;</span><span class="p">)</span>
        <span class="nx">instance</span><span class="p">[</span><span class="nx">option</span><span class="p">].</span><span class="nx">apply</span><span class="p">(</span><span class="nx">instance</span><span class="p">,</span> <span class="nx">args</span><span class="p">)</span>

      <span class="nx">instance</span><span class="p">.</span><span class="nx">getElement</span><span class="p">()</span></pre></div>             </td>           </tr>                               <tr id="section-34">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-34">&#182;</a>               </div>               <h3>Defaults</h3>

<p>Allows user to set their own defaults without having to pass in their
overrides on every instantiation</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nv">$.fn.fondant.defaults =</span>
    <span class="nv">prefix: </span><span class="s">&#39;fondant&#39;</span>
    <span class="nv">toolbar: </span><span class="kc">true</span>

</pre></div>             </td>           </tr>                </tbody>     </table>   </div> </body> </html> 